[debug] [2025-10-29T03:47:12.453Z] ----------------------------------------------------------------------
[debug] [2025-10-29T03:47:12.459Z] Command:       /Users/wilfredwong/.nvm/versions/node/v20.19.5/bin/node /Users/wilfredwong/.nvm/versions/node/v20.19.5/bin/firebase deploy
[debug] [2025-10-29T03:47:12.460Z] CLI Version:   14.22.0
[debug] [2025-10-29T03:47:12.460Z] Platform:      darwin
[debug] [2025-10-29T03:47:12.460Z] Node Version:  v20.19.5
[debug] [2025-10-29T03:47:12.460Z] Time:          Wed Oct 29 2025 11:47:12 GMT+0800 (Singapore Standard Time)
[debug] [2025-10-29T03:47:12.460Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-29T03:47:12.562Z] Object "/hosting/frameworksBackend" in "firebase.json" has unknown property: {"additionalProperty":"dependencies"}
[debug] [2025-10-29T03:47:12.562Z] Field "/hosting" in "firebase.json" is possibly invalid: must be array
[debug] [2025-10-29T03:47:12.562Z] Field "/hosting" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-10-29T03:47:12.564Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-29T03:47:12.564Z] > authorizing via signed-in user (wilfred@okidex.com)
[debug] [2025-10-29T03:47:12.564Z] [iam] checking project okidex-investment-match for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-10-29T03:47:12.565Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:12.565Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:12.566Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/okidex-investment-match:testIamPermissions [none]
[debug] [2025-10-29T03:47:12.566Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/okidex-investment-match:testIamPermissions x-goog-quota-user=projects/okidex-investment-match
[debug] [2025-10-29T03:47:12.566Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/okidex-investment-match:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-10-29T03:47:13.725Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/okidex-investment-match:testIamPermissions 200
[debug] [2025-10-29T03:47:13.726Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/okidex-investment-match:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-10-29T03:47:13.727Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:13.727Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:13.728Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/okidex-investment-match [none]
[debug] [2025-10-29T03:47:14.138Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/okidex-investment-match 200
[debug] [2025-10-29T03:47:14.139Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/okidex-investment-match {"projectId":"okidex-investment-match","projectNumber":"668774575046","displayName":"Okidex Investment Match","name":"projects/okidex-investment-match","resources":{"hostingSite":"okidex-investment-match"},"state":"ACTIVE","etag":"1_001f5ca8-c61b-4a8e-a9d7-7b8247976330"}
[debug] [2025-10-29T03:47:15.368Z] defaultcredentials: writing to file /Users/wilfredwong/.config/firebase/wilfred_okidex_com_application_default_credentials.json
[debug] [2025-10-29T03:47:15.369Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:15.369Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:15.370Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites pageToken=&pageSize=10
[debug] [2025-10-29T03:47:16.160Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites 200
[debug] [2025-10-29T03:47:16.160Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites {"sites":[{"name":"projects/okidex-investment-match/sites/okidex-investment-match","defaultUrl":"https://okidex-investment-match.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-10-29T03:47:16.161Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:16.161Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:16.161Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites 
[debug] [2025-10-29T03:47:16.632Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites 200
[debug] [2025-10-29T03:47:16.632Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites {"sites":[{"name":"projects/okidex-investment-match/sites/okidex-investment-match","defaultUrl":"https://okidex-investment-match.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-10-29T03:47:16.632Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:16.632Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:16.632Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/okidex-investment-match/webApps/-/config [none]
[debug] [2025-10-29T03:47:17.505Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/okidex-investment-match/webApps/-/config 200
[debug] [2025-10-29T03:47:17.505Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/okidex-investment-match/webApps/-/config {"projectId":"okidex-investment-match","storageBucket":"okidex-investment-match.firebasestorage.app","apiKey":"AIzaSyDtIzXzBBO9h1pfAIf2ftl7krbMHLOnAO0","authDomain":"okidex-investment-match.firebaseapp.com","messagingSenderId":"668774575046","projectNumber":"668774575046","version":"2"}
[info] 
   Thank you for trying our early preview of Next.js support on Firebase Hosting.
   During the preview, support is best-effort and breaking changes can be expected. Proceed with caution.
   The integration is known to work with Next.js version 12 - 15.0. You may encounter errors.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/nextjs
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X

[debug] [2025-10-29T03:47:19.385Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:19.386Z] Checked if tokens are valid: true, expires at: 1761711867425
[debug] [2025-10-29T03:47:19.386Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites/okidex-investment-match [none]
[debug] [2025-10-29T03:47:19.768Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites/okidex-investment-match 200
[debug] [2025-10-29T03:47:19.768Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/okidex-investment-match/sites/okidex-investment-match {"name":"projects/okidex-investment-match/sites/okidex-investment-match","defaultUrl":"https://okidex-investment-match.web.app","type":"DEFAULT_SITE"}
[info]    ▲ Next.js 15.5.6

[info]    - Environments: .env


[info]    Creating an optimized production build ...

[info]  ⚠ Compiled with warnings in 4.1s


[info] ./src/app/(app)/dashboard/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/(app)/dashboard/page.tsx

./src/app/(app)/profile/edit/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/(app)/profile/edit/page.tsx

./src/app/(app)/settings/billing/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/(app)/settings/billing/page.tsx

./src/app/home/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/home/page.tsx


[info]  ⚠ Compiled with warnings in 1826ms


[info] ./src/app/(app)/dashboard/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/(app)/dashboard/page.tsx

./src/app/(app)/profile/edit/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/(app)/profile/edit/page.tsx

./src/app/(app)/settings/billing/page.tsx
Attempted import error: 'getCurrentUser' is not exported from '@/lib/data' (imported as 'getCurrentUser').

Import trace for requested module:
./src/app/(app)/settings/billing/page.tsx


[info]  ✓ Compiled successfully in 6.0s

[info]    Skipping validation of types
   Skipping linting

[info]    Collecting page data ...

[info]    Generating static pages (0/20) ...

[info] Error occurred prerendering page "/home". Read more: https://nextjs.org/docs/messages/prerender-error
TypeError: (0 , d.getCurrentUser) is not a function
    at am (.next/server/app/home/page.js:2:35647)
    at stringify (<anonymous>) {
  digest: '318103578'
}
Export encountered an error on /home/page: /home, exiting the build.

[info]  ⨯ Next.js build worker exited with code: 1 and signal: null

[debug] [2025-10-29T03:47:31.083Z] Error: ENOENT: no such file or directory, open '/Users/wilfredwong/app/.next/export-marker.json'
[error] 
[error] Error: An unexpected error has occurred.
