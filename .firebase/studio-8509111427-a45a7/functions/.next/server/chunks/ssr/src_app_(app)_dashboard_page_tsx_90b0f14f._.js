module.exports=[87659,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(79597);var d=a.i(71559),e=a.i(73810),f=a.i(28137);a.i(69387);var g=a.i(60574),h=a.i(91119);function i({title:a,value:c,icon:d,description:e}){return(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:a}),(0,b.jsx)(d,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:c}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:e})]})]})}var j=a.i(99570),k=a.i(41961),l=a.i(70106);let m=(0,l.default)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var n=a.i(90166),o=a.i(4720);let p=(0,l.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var q=a.i(21374),r=a.i(46864),s=a.i(60246),t=a.i(33508);let u=(0,l.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var v=a.i(38246),w=a.i(27142),x=a.i(74408),y=a.i(71987),z=a.i(27960);function A(){let a,{user:l,isUserLoading:A}=(0,d.useUser)(),B=(0,d.useFirestore)(),[C,D]=(0,c.useState)(!0),E=l?.role==="founder"?l.profile.companyId:void 0,F=(0,d.useMemoFirebase)(()=>B&&E?(0,g.doc)(B,"startups",E):null,[B,E]),{data:G,isLoading:H}=(0,f.useDoc)(F),I=(0,d.useMemoFirebase)(()=>l?.role==="founder"&&B&&l.id?(0,g.query)((0,g.collection)(B,"jobs"),(0,g.where)("founderId","==",l.id)):null,[l,B]),{data:J}=(0,e.useCollection)(I),K=(0,c.useMemo)(()=>J?.map(a=>a.id)||[],[J]),L=(0,d.useMemoFirebase)(()=>B&&K.length>0?(0,g.query)((0,g.collection)(B,"interests"),(0,g.where)("targetType","==","job"),(0,g.where)("targetId","in",K)):null,[B,K]),{data:M,isLoading:N}=(0,e.useCollection)(L),O=(0,d.useMemoFirebase)(()=>l?.id&&B?(0,g.query)((0,g.collection)(B,"matches"),(0,g.where)("participantIds","array-contains",l.id)):null,[l,B]),{data:P,isLoading:Q}=(0,e.useCollection)(O),R=(0,d.useMemoFirebase)(()=>l?.role==="founder"&&B?(0,g.query)((0,g.collection)(B,"users"),(0,g.where)("role","in",["investor","talent"]),(0,g.limit)(3)):null,[l,B]),{data:S,isLoading:T}=(0,e.useCollection)(R),U=(0,d.useMemoFirebase)(()=>l?.role==="investor"&&B&&l.id?(0,g.query)((0,g.collection)(B,"theses"),(0,g.where)("investorId","==",l.id)):null,[l,B]),{data:V,isLoading:W}=(0,e.useCollection)(U),X=(0,d.useMemoFirebase)(()=>l?.role==="investor"&&B&&l.id?(0,g.query)((0,g.collection)(B,"jobs"),(0,g.where)("founderId","==",l.id)):null,[l,B]),{data:Y,isLoading:Z}=(0,e.useCollection)(X),$=V?.map(a=>a.id)||[],_=(0,d.useMemoFirebase)(()=>B&&$.length>0?(0,g.query)((0,g.collection)(B,"interests"),(0,g.where)("targetType","==","thesis"),(0,g.where)("targetId","in",$)):null,[B,$]),{data:aa,isLoading:ab}=(0,e.useCollection)(_),ac=Y?.map(a=>a.id)||[],ad=(0,d.useMemoFirebase)(()=>B&&ac.length>0?(0,g.query)((0,g.collection)(B,"interests"),(0,g.where)("targetType","==","job"),(0,g.where)("targetId","in",ac)):null,[B,ac]),{data:ae,isLoading:af}=(0,e.useCollection)(ad),ag=(0,d.useMemoFirebase)(()=>l?.role==="investor"&&B&&l.id?(0,g.query)((0,g.collection)(B,"matches"),(0,g.where)("participantIds","array-contains",l.id)):null,[l,B]),{data:ah,isLoading:ai}=(0,e.useCollection)(ag),aj=(0,d.useMemoFirebase)(()=>l?.role==="talent"&&B?(0,g.query)((0,g.collection)(B,"jobs"),(0,g.limit)(3)):null,[l,B]),{data:ak,isLoading:al}=(0,e.useCollection)(aj),am=(0,d.useMemoFirebase)(()=>l?.role==="talent"&&B&&l.id?(0,g.query)((0,g.collection)(B,"interests"),(0,g.where)("userId","==",l.id),(0,g.where)("targetType","==","job")):null,[l,B]),{data:an,isLoading:ao}=(0,e.useCollection)(am),ap=(0,d.useMemoFirebase)(()=>l?.id&&B?(0,g.query)((0,g.collection)(B,"matches"),(0,g.where)("participantIds","array-contains",l.id)):null,[l,B]),{data:aq,isLoading:ar}=(0,e.useCollection)(ap),as=(0,d.useMemoFirebase)(()=>l?.id&&B?(0,g.query)((0,g.collection)(B,"notifications"),(0,g.where)("userId","==",l.id),(0,g.where)("type","==","message"),(0,g.where)("isRead","==",!1)):null,[l,B]),{data:at,isLoading:au}=(0,e.useCollection)(as);if(A||T||Q||W||Z||ab||af||al||N||ao||ar||ai||H||au)return(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)(z.Skeleton,{className:"h-8 w-64"}),(0,b.jsx)("div",{className:"w-full max-w-sm",children:(0,b.jsx)(z.Skeleton,{className:"h-12 w-full"})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(z.Skeleton,{className:"h-24 w-full"}),(0,b.jsx)(z.Skeleton,{className:"h-24 w-full"}),(0,b.jsx)(z.Skeleton,{className:"h-24 w-full"}),(0,b.jsx)(z.Skeleton,{className:"h-24 w-full"})]}),(0,b.jsx)(z.Skeleton,{className:"h-64 w-full"})]});if(!l)return null;let av="founder"===l.role&&l.profile.isPremium,aw=({job:a})=>(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(y.default,{src:a.companyLogoUrl,alt:a.companyName,width:40,height:40,className:"rounded-full border","data-ai-hint":"logo"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.companyName}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:a.description})]}),(0,b.jsx)(j.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(v.default,{href:"/jobs",children:"View"})})]});return(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold font-headline",children:["Welcome back, ",l.name.split(" ")[0],"!"]}),(0,b.jsx)("div",{className:"w-full max-w-sm",children:(0,b.jsx)(x.default,{userRole:l.role})})]}),l.email&&!(l.email.endsWith("@example.com")||l.emailVerified)&&(0,b.jsx)(h.Card,{className:"bg-amber-50 border-amber-200",children:(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center gap-4",children:[(0,b.jsx)(u,{className:"w-6 h-6 text-amber-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.CardTitle,{className:"text-amber-900",children:"Verify Your Email Address"}),(0,b.jsx)(h.CardDescription,{className:"text-amber-700",children:"Please check your inbox for a verification link. Access to some features may be limited until your email is confirmed."})]})]})}),"founder"===l.role&&(0,b.jsxs)(b.Fragment,{children:[!av&&C&&(0,b.jsxs)(h.Card,{className:"bg-primary/5 border-primary/20 relative",children:[(0,b.jsxs)(j.Button,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 text-muted-foreground",onClick:()=>D(!1),children:[(0,b.jsx)(t.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-primary text-primary-foreground rounded-full w-12 h-12 flex items-center justify-center",children:(0,b.jsx)(q.Star,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.CardTitle,{children:"Unlock Your Full Potential with Oki+"}),(0,b.jsx)(h.CardDescription,{children:"Showcase your profile to investors, post jobs, and view exclusive investment theses."})]})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsx)(j.Button,{asChild:!0,children:(0,b.jsx)(v.default,{href:"/settings/billing",children:"Upgrade to Oki+"})})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(i,{title:"Profile Views",value:G?.profileViewCount?.toLocaleString()??"0",icon:s.Users,description:"Total profile views"}),(0,b.jsx)(v.default,{href:"/matches",children:(0,b.jsx)(i,{title:"Active Matches",value:P?.length.toString()??"0",icon:m,description:"Connections made"})}),(0,b.jsx)(v.default,{href:"/applicants",children:(0,b.jsx)(i,{title:"Job Applicants",value:M?.length.toString()??"0",icon:k.Briefcase,description:"Total applications received"})}),(0,b.jsx)(v.default,{href:"/messages",children:(0,b.jsx)(i,{title:"Messages",value:at?.length.toString()??"0",icon:p,description:"Unread messages"})})]}),(0,b.jsx)("div",{className:"grid gap-4",children:(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"New Matches"}),(0,b.jsx)(h.CardDescription,{children:"New potential investors and talent."})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[S&&S.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(w.default,{name:a.name,avatarUrl:a.avatarUrl}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground capitalize",children:a.role})]}),(0,b.jsx)(j.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,b.jsx)(v.default,{href:`/users/${a.id}`,children:"View"})})]},a.id)),(!S||0===S.length)&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"No new matches right now."})]})]})})]}),"investor"===l.role&&(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsx)(v.default,{href:"/theses",children:(0,b.jsx)(i,{title:"Theses Posted",value:V?.length?.toString()??"0",icon:o.FileText,description:"Share your focus"})}),(0,b.jsx)(v.default,{href:"/applicants",children:(0,b.jsx)(i,{title:"Thesis Applicants",value:aa?.length?.toString()??"0",icon:s.Users,description:"Interest in your theses"})}),(0,b.jsx)(v.default,{href:"/applicants",children:(0,b.jsx)(i,{title:"Job Applicants",value:ae?.length?.toString()??"0",icon:k.Briefcase,description:"Interest in your jobs"})}),(0,b.jsx)(v.default,{href:"/messages",children:(0,b.jsx)(i,{title:"Messages",value:at?.length.toString()??"0",icon:p,description:"Unread messages"})}),(0,b.jsx)(v.default,{href:"/matches",children:(0,b.jsx)(i,{title:"Active Matches",value:ah?.length?.toString()??"0",icon:m,description:"Ready for outreach"})}),(0,b.jsx)(v.default,{href:"/search",children:(0,b.jsx)(i,{title:"New Opportunities",value:"0",icon:n.DollarSign,description:"New startups to discover"})})]}),"talent"===l.role&&(a="co-founder"===l.profile.subRole,(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsxs)(h.CardTitle,{children:["Job Matches (",ak?.length??0,")"]}),(0,b.jsx)(h.CardDescription,{children:"Recommended jobs that match your profile and skills."})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-6",children:[ak&&ak.map(a=>(0,b.jsx)(aw,{job:a},a.id)),(!ak||0===ak.length)&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"No recommended jobs right now."})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsx)(i,{title:"Profile Views",value:l.profile?.profileViewCount?.toLocaleString()??"0",icon:s.Users,description:"Total profile views"}),(0,b.jsx)(v.default,{href:"/jobs",children:(0,b.jsx)(i,{title:"Applications",value:an?.length.toString()??"0",icon:o.FileText,description:"Jobs you've applied to"})}),a&&(0,b.jsx)(v.default,{href:"/matches",children:(0,b.jsx)(i,{title:"Co-founder Matches",value:aq?.length.toString()??"0",icon:r.UserCheck,description:"Potential co-founders"})}),(0,b.jsx)(v.default,{href:"/messages",children:(0,b.jsx)(i,{title:"Messages",value:at?.length.toString()??"0",icon:p,description:"Unread messages"})})]})})]}))]})}a.s(["default",()=>A],87659)}];

//# sourceMappingURL=src_app_%28app%29_dashboard_page_tsx_90b0f14f._.js.map