(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2177,e=>{"use strict";var a=e.i(43476),l=e.i(932),t=e.i(15288),s=e.i(19455),r=e.i(10204),i=e.i(93479),n=e.i(24687),c=e.i(71645),o=e.i(95187);let d=(0,o.createServerReference)("402944bb13014208881662ed0c4469f6aef21e9e1c",o.callServer,void 0,o.findSourceMapURL,"getProfilePictureTags"),m=(0,o.createServerReference)("6031c46405f276d085e2df347a09879362dfc24127",o.callServer,void 0,o.findSourceMapURL,"updateUser");var u=e.i(87486),p=e.i(31278),h=e.i(75254);let x=(0,h.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var j=e.i(66531),f=e.i(75157),g=e.i(57688),y=e.i(8406);e.i(11981);var v=e.i(61480);e.i(61086);var b=e.i(27651);async function N(e){return new Promise((a,l)=>{let t=new FileReader;t.onload=t=>{let s=document.createElement("img");s.onload=()=>{let t=document.createElement("canvas"),{width:r,height:i}=s;r>i?r>512&&(i=Math.round(512*i/r),r=512):i>512&&(r=Math.round(512*r/i),i=512),t.width=r,t.height=i;let n=t.getContext("2d");if(!n)return l(Error("Could not get canvas context"));n.drawImage(s,0,0,r,i),t.toBlob(t=>{t?a(new File([t],e.name,{type:"image/webp",lastModified:Date.now()})):l(Error("Canvas to Blob conversion failed"))},"image/webp",.8)},s.src=t.target?.result},t.readAsDataURL(e)})}function C({initialAvatarUrl:e,initialName:l}){let{user:t}=(0,v.useUser)(),r=(0,v.useStorage)(),{toast:i}=(0,y.useToast)(),[n,o]=(0,c.useState)([]),[h,C]=(0,c.useState)(!1),[S,w]=(0,c.useState)(!1),[L,U]=(0,c.useState)(null),[D,I]=(0,c.useState)(e),[k,F]=(0,c.useState)(!1),A=(0,c.useRef)(null),_=e=>{e&&("image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type)&&N(e).then(e=>{U(e);let a=new FileReader;a.onload=e=>{I(e.target?.result),o([])},a.readAsDataURL(e)}).catch(e=>{console.error("Image resize failed:",e),i({title:"Image resize failed",description:e.message,variant:"destructive"})})},T=async()=>{if(!L||!t||!r)return void i({title:"No file selected or user not logged in.",variant:"destructive"});C(!0);try{let e=(0,b.ref)(r,`profiles/${t.id}/${L.name.split(".")[0]}.webp`),a=await (0,b.uploadBytes)(e,L),l=await (0,b.getDownloadURL)(a.ref),s=await m(t.id,{avatarUrl:l});if(s.success)i({title:"Profile Picture Updated",description:"Your new photo has been saved."}),I(l),U(null);else throw Error(s.error)}catch(e){i({title:"Upload Failed",description:e.message,variant:"destructive"})}finally{C(!1)}},P=async()=>{if(D){w(!0),o([]);try{let e=await d({photoDataUri:D});o(e.tags)}catch(e){console.error("Error auto-tagging profile picture:",e),i({title:"Auto-tagging failed",variant:"destructive"})}finally{w(!1)}}};return(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsxs)("div",{className:(0,f.cn)("w-32 h-32 border-2 border-dashed rounded-full flex flex-col items-center justify-center text-muted-foreground cursor-pointer relative overflow-hidden",k?"border-primary bg-accent":"border-border"),onDragOver:e=>{e.preventDefault(),F(!0)},onDragLeave:e=>{e.preventDefault(),F(!1)},onDrop:e=>{e.preventDefault(),F(!1),_(e.dataTransfer.files[0])},onClick:()=>{A.current?.click()},children:[D?(0,a.jsx)(g.default,{src:D,alt:l,width:128,height:128,className:"rounded-full object-cover w-full h-full"}):(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)(j.UploadCloud,{className:"mx-auto h-8 w-8 mb-1"}),(0,a.jsx)("p",{className:"text-xs",children:"Drag & drop"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground/80",children:"or click"})]}),(0,a.jsx)("input",{ref:A,type:"file",className:"hidden",accept:"image/jpeg, image/png, image/gif",onChange:e=>{_(e.target.files?.[0]||null)}})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(s.Button,{onClick:T,disabled:h||!L,children:[h?(0,a.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x,{className:"mr-2 h-4 w-4"}),h?"Uploading...":"Upload"]}),(0,a.jsxs)(s.Button,{onClick:P,disabled:S||!D,children:[S?(0,a.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Auto-tag with AI"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended size: 400x400px. JPG, PNG, GIF"}),n.length>0&&(0,a.jsxs)("div",{className:"w-full pt-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"Suggested Tags:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map((e,l)=>(0,a.jsx)(u.Badge,{variant:"secondary",children:e},l))})]})]})}let S=(0,o.createServerReference)("4000ace7b548ec6b3eaaa0bb10cedc8de2b86dd82b",o.callServer,void 0,o.findSourceMapURL,"getProfileFromLinkedIn");var w=e.i(51348);function L(){let[e,l]=(0,c.useState)(""),[t,n]=(0,c.useState)(!1),{toast:o}=(0,y.useToast)(),d=async()=>{if(!e)return void o({title:"LinkedIn URL required",description:"Please enter your LinkedIn profile URL.",variant:"destructive"});n(!0);try{let l=await S({linkedinUrl:e});o({title:"Profile Data Fetched",description:(0,a.jsx)("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:(0,a.jsx)("code",{className:"text-white",children:JSON.stringify(l,null,2)})})})}catch(e){o({title:"Error fetching data",description:"Could not fetch profile data from LinkedIn. Please check the URL and try again.",variant:"destructive"})}finally{n(!1)}};return(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"linkedin-url",className:"sr-only",children:"LinkedIn Profile URL"}),(0,a.jsx)(i.Input,{id:"linkedin-url",placeholder:"https://www.linkedin.com/in/your-profile",value:e,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)(s.Button,{onClick:d,disabled:t,className:"mt-auto",children:[t?(0,a.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(w.Linkedin,{className:"mr-2 h-4 w-4"}),"Populate Profile"]})]})}async function U(e){return new Promise((a,l)=>{let t=new FileReader;t.onload=t=>{let s=document.createElement("img");s.onload=()=>{let t=document.createElement("canvas"),{width:r,height:i}=s;r>i?r>200&&(i=Math.round(200*i/r),r=200):i>200&&(r=Math.round(200*r/i),i=200),t.width=r,t.height=i;let n=t.getContext("2d");if(!n)return l(Error("Could not get canvas context"));n.drawImage(s,0,0,r,i),t.toBlob(t=>{t?a(new File([t],e.name,{type:"image/webp",lastModified:Date.now()})):l(Error("Canvas to Blob conversion failed"))},"image/webp",.8)},s.src=t.target?.result},t.readAsDataURL(e)})}function D(e){let t,r,i,n,o,d,m,u,h,v,b,N,C,S,w,L,D=(0,l.c)(37),{initialLogoUrl:k,initialName:F}=e,[A,_]=(0,c.useState)(!1),[T,P]=(0,c.useState)(k),[R,B]=(0,c.useState)(null),[E,V]=(0,c.useState)(!1),M=(0,c.useRef)(null),{toast:z}=(0,y.useToast)();D[0]!==z?(t=e=>{e&&("image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type)&&U(e).then(e=>{B(e);let a=new FileReader;a.onload=e=>{P(e.target?.result)},a.readAsDataURL(e)}).catch(e=>{console.error("Image resize failed:",e),z({title:"Image resize failed",description:e.message,variant:"destructive"})})},D[0]=z,D[1]=t):t=D[1];let O=t;D[2]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{e.preventDefault(),V(!0)},D[2]=r):r=D[2];let $=r;D[3]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{e.preventDefault(),V(!1)},D[3]=i):i=D[3];let H=i;D[4]!==O?(n=e=>{e.preventDefault(),V(!1),O(e.dataTransfer.files[0])},D[4]=O,D[5]=n):n=D[5];let G=n;D[6]!==O?(o=e=>{O(e.target.files?.[0]||null)},D[6]=O,D[7]=o):o=D[7];let q=o;D[8]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{M.current?.click()},D[8]=d):d=D[8];let W=d;D[9]!==R||D[10]!==z?(m=async()=>{R&&(_(!0),await new Promise(I),_(!1),z({title:"Logo Updated",description:"Your new company logo has been saved."}),B(null))},D[9]=R,D[10]=z,D[11]=m):m=D[11];let J=m,Y=E?"border-primary bg-accent":"border-border";D[12]!==Y?(u=(0,f.cn)("w-48 h-48 border-2 border-dashed rounded-full flex flex-col items-center justify-center text-muted-foreground cursor-pointer transition-colors",Y),D[12]=Y,D[13]=u):u=D[13],D[14]!==F||D[15]!==T?(h=T?(0,a.jsx)(g.default,{src:T,alt:F,width:192,height:192,className:"rounded-full object-cover w-full h-full"}):(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)(j.UploadCloud,{className:"mx-auto h-10 w-10 mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:"Drag & drop your logo here"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground/80 mt-1",children:"or click to browse"})]}),D[14]=F,D[15]=T,D[16]=h):h=D[16],D[17]!==q?(v=(0,a.jsx)("input",{ref:M,type:"file",className:"hidden",accept:"image/jpeg, image/png, image/gif",onChange:q}),D[17]=q,D[18]=v):v=D[18],D[19]!==G||D[20]!==h||D[21]!==v||D[22]!==u?(b=(0,a.jsxs)("div",{className:u,onDragOver:$,onDragLeave:H,onDrop:G,onClick:W,children:[h,v]}),D[19]=G,D[20]=h,D[21]=v,D[22]=u,D[23]=b):b=D[23];let K=A||!R;D[24]!==A?(N=A?(0,a.jsx)(p.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(x,{className:"mr-2 h-4 w-4"}),D[24]=A,D[25]=N):N=D[25];let X=A?"Uploading...":"Upload Logo";return D[26]!==J||D[27]!==K||D[28]!==N||D[29]!==X?(C=(0,a.jsxs)(s.Button,{onClick:J,disabled:K,children:[N,X]}),D[26]=J,D[27]=K,D[28]=N,D[29]=X,D[30]=C):C=D[30],D[31]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Recommended size: 200x200px. WEBP, JPG, PNG, GIF"}),D[31]=S):S=D[31],D[32]!==C?(w=(0,a.jsxs)("div",{className:"text-center",children:[C,S]}),D[32]=C,D[33]=w):w=D[33],D[34]!==b||D[35]!==w?(L=(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[b,w]}),D[34]=b,D[35]=w,D[36]=L):L=D[36],L}function I(e){return setTimeout(e,1500)}var k=e.i(37727),F=e.i(57428),A=e.i(67489),_=e.i(99375),T=e.i(18566),P=e.i(68499);let R=(0,h.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var B=e.i(16019),E=e.i(74323),V=e.i(76639);let M={companyName:"",companyUrl:""};function z(e){let n,o,d,m,u,p,h,x,j,f,v,b,N,C,S,w,L,U,D,I=(0,l.c)(45),{initialData:k}=e;I[0]!==k?(n=k||[],I[0]=k,I[1]=n):n=I[1];let[F,A]=(0,c.useState)(n),[_,T]=(0,c.useState)(!1),{toast:z}=(0,y.useToast)(),[O,$]=(0,c.useState)(M);I[2]!==O||I[3]!==F||I[4]!==z?(o=e=>{(e.preventDefault(),O.companyName&&O.companyUrl)?(A([...F,{...O,companyLogoUrl:`https://picsum.photos/seed/${O.companyName.toLowerCase()}/200/200`}]),z({title:"Company Added",description:`${O.companyName} has been added to your portfolio.`}),$(M),T(!1)):z({title:"Missing Information",description:"Please provide a company name and URL.",variant:"destructive"})},I[2]=O,I[3]=F,I[4]=z,I[5]=o):o=I[5];let H=o;I[6]!==F||I[7]!==z?(d=e=>{A(F.filter(a=>a.companyName!==e)),z({title:"Company Removed",description:`${e} has been removed from your portfolio.`,variant:"destructive"})},I[6]=F,I[7]=z,I[8]=d):d=I[8];let G=d;if(I[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsxs)("div",{children:[(0,a.jsx)(t.CardTitle,{children:"Portfolio Companies"}),(0,a.jsx)(t.CardDescription,{children:"Manage your current investments."})]}),I[9]=m):m=I[9],I[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(V.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(s.Button,{children:[(0,a.jsx)(E.PlusCircle,{className:"mr-2 h-4 w-4"})," Add Company"]})}),I[10]=u):u=I[10],I[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)(V.DialogHeader,{children:(0,a.jsx)(V.DialogTitle,{children:"Add a Portfolio Company"})}),I[11]=p):p=I[11],I[12]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(r.Label,{htmlFor:"company-name",children:"Company Name"}),I[12]=h):h=I[12],I[13]!==O?(x=e=>$({...O,companyName:e.target.value}),I[13]=O,I[14]=x):x=I[14],I[15]!==O.companyName||I[16]!==x?(j=(0,a.jsxs)("div",{className:"space-y-2",children:[h,(0,a.jsx)(i.Input,{id:"company-name",value:O.companyName,onChange:x,placeholder:"e.g. Acme Inc.",required:!0})]}),I[15]=O.companyName,I[16]=x,I[17]=j):j=I[17],I[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(r.Label,{htmlFor:"company-url",children:"Company URL"}),I[18]=f):f=I[18],I[19]!==O?(v=e=>$({...O,companyUrl:e.target.value}),I[19]=O,I[20]=v):v=I[20],I[21]!==O.companyUrl||I[22]!==v?(b=(0,a.jsxs)("div",{className:"space-y-2",children:[f,(0,a.jsx)(i.Input,{id:"company-url",value:O.companyUrl,onChange:v,placeholder:"https://acme.com",type:"url",required:!0})]}),I[21]=O.companyUrl,I[22]=v,I[23]=b):b=I[23],I[24]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)(s.Button,{type:"submit",className:"w-full",children:"Add Company"}),I[24]=N):N=I[24],I[25]!==H||I[26]!==b||I[27]!==j?(C=(0,a.jsxs)(V.DialogContent,{children:[p,(0,a.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[j,b,N]})]}),I[25]=H,I[26]=b,I[27]=j,I[28]=C):C=I[28],I[29]!==_||I[30]!==C?(S=(0,a.jsx)(t.CardHeader,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[m,(0,a.jsxs)(V.Dialog,{open:_,onOpenChange:T,children:[u,C]})]})}),I[29]=_,I[30]=C,I[31]=S):S=I[31],I[32]!==G||I[33]!==F){let e;I[35]!==G?(e=e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(g.default,{src:e.companyLogoUrl,alt:e.companyName,width:40,height:40,className:"w-10 h-10 rounded-md border","data-ai-hint":"logo"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:e.companyName}),(0,a.jsxs)("a",{href:e.companyUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:underline flex items-center gap-1.5",children:[(0,a.jsx)(R,{className:"h-3.5 w-3.5"}),e.companyUrl]})]})]}),(0,a.jsxs)(P.AlertDialog,{children:[(0,a.jsx)(P.AlertDialogTrigger,{asChild:!0,children:(0,a.jsx)(s.Button,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:(0,a.jsx)(B.Trash,{className:"h-4 w-4"})})}),(0,a.jsxs)(P.AlertDialogContent,{children:[(0,a.jsxs)(P.AlertDialogHeader,{children:[(0,a.jsx)(P.AlertDialogTitle,{children:"Are you sure?"}),(0,a.jsxs)(P.AlertDialogDescription,{children:["This action cannot be undone. This will permanently remove ",e.companyName," from your portfolio."]})]}),(0,a.jsxs)(P.AlertDialogFooter,{children:[(0,a.jsx)(P.AlertDialogCancel,{children:"Cancel"}),(0,a.jsx)(P.AlertDialogAction,{onClick:()=>G(e.companyName),children:"Continue"})]})]})]})]},e.companyName),I[35]=G,I[36]=e):e=I[36],w=F.map(e),I[32]=G,I[33]=F,I[34]=w}else w=I[34];return I[37]!==F.length?(L=0===F.length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No portfolio companies added yet."}),I[37]=F.length,I[38]=L):L=I[38],I[39]!==w||I[40]!==L?(U=(0,a.jsx)(t.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[w,L]})}),I[39]=w,I[40]=L,I[41]=U):U=I[41],I[42]!==S||I[43]!==U?(D=(0,a.jsxs)(t.Card,{children:[S,U]}),I[42]=S,I[43]=U,I[44]=D):D=I[44],D}let O={companyName:"",companyUrl:""};function $(e){let n,o,d,m,u,p,h,x,j,f,g,v,b,N,C,S,w,L,U,D=(0,l.c)(45),{initialData:I}=e;D[0]!==I?(n=I||[],D[0]=I,D[1]=n):n=D[1];let[k,F]=(0,c.useState)(n),[A,_]=(0,c.useState)(!1),{toast:T}=(0,y.useToast)(),[M,z]=(0,c.useState)(O);D[2]!==k||D[3]!==M||D[4]!==T?(o=e=>{(e.preventDefault(),M.companyName&&M.companyUrl)?(F([...k,M]),T({title:"Exit Added",description:`${M.companyName} has been added to your exits.`}),z(O),_(!1)):T({title:"Missing Information",description:"Please provide a company name and URL.",variant:"destructive"})},D[2]=k,D[3]=M,D[4]=T,D[5]=o):o=D[5];let $=o;D[6]!==k||D[7]!==T?(d=e=>{F(k.filter(a=>a.companyName!==e)),T({title:"Exit Removed",description:`${e} has been removed from your exits.`,variant:"destructive"})},D[6]=k,D[7]=T,D[8]=d):d=D[8];let H=d;if(D[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsxs)("div",{children:[(0,a.jsx)(t.CardTitle,{children:"Exits"}),(0,a.jsx)(t.CardDescription,{children:"Manage your successful exits."})]}),D[9]=m):m=D[9],D[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(V.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(s.Button,{children:[(0,a.jsx)(E.PlusCircle,{className:"mr-2 h-4 w-4"})," Add Exit"]})}),D[10]=u):u=D[10],D[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)(V.DialogHeader,{children:(0,a.jsx)(V.DialogTitle,{children:"Add an Exit"})}),D[11]=p):p=D[11],D[12]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(r.Label,{htmlFor:"company-name",children:"Company Name"}),D[12]=h):h=D[12],D[13]!==M?(x=e=>z({...M,companyName:e.target.value}),D[13]=M,D[14]=x):x=D[14],D[15]!==M.companyName||D[16]!==x?(j=(0,a.jsxs)("div",{className:"space-y-2",children:[h,(0,a.jsx)(i.Input,{id:"company-name",value:M.companyName,onChange:x,placeholder:"e.g. Innovate Inc.",required:!0})]}),D[15]=M.companyName,D[16]=x,D[17]=j):j=D[17],D[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(r.Label,{htmlFor:"company-url",children:"Company URL"}),D[18]=f):f=D[18],D[19]!==M?(g=e=>z({...M,companyUrl:e.target.value}),D[19]=M,D[20]=g):g=D[20],D[21]!==M.companyUrl||D[22]!==g?(v=(0,a.jsxs)("div",{className:"space-y-2",children:[f,(0,a.jsx)(i.Input,{id:"company-url",value:M.companyUrl,onChange:g,placeholder:"https://innovate.com",type:"url",required:!0})]}),D[21]=M.companyUrl,D[22]=g,D[23]=v):v=D[23],D[24]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)(s.Button,{type:"submit",className:"w-full",children:"Add Exit"}),D[24]=b):b=D[24],D[25]!==$||D[26]!==v||D[27]!==j?(N=(0,a.jsxs)(V.DialogContent,{children:[p,(0,a.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[j,v,b]})]}),D[25]=$,D[26]=v,D[27]=j,D[28]=N):N=D[28],D[29]!==A||D[30]!==N?(C=(0,a.jsx)(t.CardHeader,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[m,(0,a.jsxs)(V.Dialog,{open:A,onOpenChange:_,children:[u,N]})]})}),D[29]=A,D[30]=N,D[31]=C):C=D[31],D[32]!==k||D[33]!==H){let e;D[35]!==H?(e=e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:e.companyName}),(0,a.jsxs)("a",{href:e.companyUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:underline flex items-center gap-1.5",children:[(0,a.jsx)(R,{className:"h-3.5 w-3.5"}),e.companyUrl]})]})}),(0,a.jsxs)(P.AlertDialog,{children:[(0,a.jsx)(P.AlertDialogTrigger,{asChild:!0,children:(0,a.jsx)(s.Button,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",children:(0,a.jsx)(B.Trash,{className:"h-4 w-4"})})}),(0,a.jsxs)(P.AlertDialogContent,{children:[(0,a.jsxs)(P.AlertDialogHeader,{children:[(0,a.jsx)(P.AlertDialogTitle,{children:"Are you sure?"}),(0,a.jsxs)(P.AlertDialogDescription,{children:["This action cannot be undone. This will permanently remove ",e.companyName," from your exits."]})]}),(0,a.jsxs)(P.AlertDialogFooter,{children:[(0,a.jsx)(P.AlertDialogCancel,{children:"Cancel"}),(0,a.jsx)(P.AlertDialogAction,{onClick:()=>H(e.companyName),children:"Continue"})]})]})]})]},e.companyName),D[35]=H,D[36]=e):e=D[36],S=k.map(e),D[32]=k,D[33]=H,D[34]=S}else S=D[34];return D[37]!==k.length?(w=0===k.length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No exits added yet."}),D[37]=k.length,D[38]=w):w=D[38],D[39]!==S||D[40]!==w?(L=(0,a.jsx)(t.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[S,w]})}),D[39]=S,D[40]=w,D[41]=L):L=D[41],D[42]!==C||D[43]!==L?(U=(0,a.jsxs)(t.Card,{children:[C,L]}),D[42]=C,D[43]=L,D[44]=U):U=D[44],U}var H=e.i(85149),G=e.i(2747);let q=(0,o.createServerReference)("60f2e09aa5964f8bb06dc6337e3bced83b6cb1573e",o.callServer,void 0,o.findSourceMapURL,"updateUserProfile");var W=e.i(42300),J=e.i(39107);function Y(){let e,o,d,m,u,p,h,x,j,f,g,b,N,S,w,U,I,k,P,R,B,E,V,M,O,Y,ee,ea=(0,l.c)(76),{user:el,isUserLoading:et}=(0,v.useUser)(),[es,er]=(0,c.useState)(null),[ei,en]=(0,c.useState)(!0),[ec,eo]=(0,c.useState)(!1),[ed,em]=(0,c.useState)(!1),{toast:eu}=(0,y.useToast)(),ep=(0,T.useRouter)();if(ea[0]!==et||ea[1]!==el?(e=()=>{et||(el?(async()=>{if(en(!0),"founder"===el.role){let e=el.profile;e.companyId&&er(await (0,W.getStartupById)(e.companyId))}en(!1)})():(0,T.notFound)())},o=[el,et],ea[0]=et,ea[1]=el,ea[2]=e,ea[3]=o):(e=ea[2],o=ea[3]),(0,c.useEffect)(e,o),ea[4]!==el?(d=()=>{if(el&&"talent"===el.role){let e=el.profile;eo(e?.subRole==="vendor"),em(e?.subRole==="fractional-leader")}},m=[el],ea[4]=el,ea[5]=d,ea[6]=m):(d=ea[5],m=ea[6]),(0,c.useEffect)(d,m),et||ei||!el){let e,l;return ea[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"md:col-span-1 space-y-8",children:(0,a.jsx)(G.Skeleton,{className:"h-64 w-full rounded-lg"})}),ea[7]=e):e=ea[7],ea[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e,(0,a.jsx)("div",{className:"md:col-span-2 space-y-6",children:(0,a.jsx)(G.Skeleton,{className:"h-[500px] w-full rounded-lg"})})]})}),ea[8]=l):l=ea[8],l}let eh="founder"===el.role,ex=eh?el.profile:void 0,ej="investor"===el.role,ef="talent"===el.role,eg=ej?el.profile:void 0,ey=ef?el.profile:void 0;es?.incorporationDetails.isIncorporated,ea[9]!==ex||ea[10]!==eg||ea[11]!==eh||ea[12]!==ed||ea[13]!==ej||ea[14]!==ef||ea[15]!==ec||ea[16]!==ep||ea[17]!==es||ea[18]!==ey||ea[19]!==eu||ea[20]!==el?(u=async e=>{if(e.preventDefault(),!el)return;let a=new FormData(e.currentTarget),l={};a.forEach((e,a)=>{l[a]=e});let t=H.founderObjectives.map(e=>a.get(`objective-${e.id}`)).filter(Boolean);if(eh&&ex&&es){let e={objectives:t,isSeekingCoFounder:t.includes("seekingCoFounders")},a={companyName:l.companyName,tagline:l.tagline,industry:l.industry,stage:l.stage,website:l.website,description:l.description};await (0,J.updateStartupData)(es.id,a),await q(el.id,e)}if(ej&&eg){let e={companyName:l.investorCompanyName,companyUrl:l.investorCompanyUrl,investorType:l.investorType,about:l.about};await q(el.id,e)}if(ef&&ey){let e=ey.subRole;ec?e="vendor":ed?e="fractional-leader":("vendor"===e||"fractional-leader"===e)&&(e=ey.isSeekingCoFounder?"co-founder":"employee");let a={headline:l.headline,about:l.about,skills:l.skills.split(",").map(Z),organization:l.organization,experience:l.experience,education:l.education,isSeekingCoFounder:ey.isSeekingCoFounder,subRole:e};await q(el.id,a)}eu({title:"Profile Saved",description:"Your general information has been updated."}),ep.refresh()},ea[9]=ex,ea[10]=eg,ea[11]=eh,ea[12]=ed,ea[13]=ej,ea[14]=ef,ea[15]=ec,ea[16]=ep,ea[17]=es,ea[18]=ey,ea[19]=eu,ea[20]=el,ea[21]=u):u=ea[21];let ev=u;return ea[22]!==eh||ea[23]!==es?(p=eh&&es&&(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Business Logo"}),(0,a.jsx)(t.CardDescription,{children:"Upload a logo for your company."})]}),(0,a.jsx)(t.CardContent,{children:(0,a.jsx)(D,{initialLogoUrl:es.companyLogoUrl,initialName:es.companyName})})]}),ea[22]=eh,ea[23]=es,ea[24]=p):p=ea[24],ea[25]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:"Profile Picture"}),(0,a.jsx)(t.CardDescription,{children:"Upload a picture for your profile."})]}),ea[25]=h):h=ea[25],ea[26]!==el.avatarUrl||ea[27]!==el.name?(x=(0,a.jsxs)(t.Card,{children:[h,(0,a.jsx)(t.CardContent,{children:(0,a.jsx)(C,{initialAvatarUrl:el.avatarUrl,initialName:el.name})})]}),ea[26]=el.avatarUrl,ea[27]=el.name,ea[28]=x):x=ea[28],ea[29]!==p||ea[30]!==x?(j=(0,a.jsxs)("div",{className:"md:col-span-1 space-y-8",children:[p,x]}),ea[29]=p,ea[30]=x,ea[31]=j):j=ea[31],ea[32]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(t.CardTitle,{children:"General Information"}),f=(0,a.jsx)(t.CardDescription,{children:"Update your personal and company details, or populate from your LinkedIn profile."}),ea[32]=f,ea[33]=g):(f=ea[32],g=ea[33]),ea[34]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsxs)(t.CardHeader,{children:[g,f,(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)(L,{})})]}),ea[34]=b):b=ea[34],ea[35]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)(r.Label,{htmlFor:"name",children:"Name"}),ea[35]=N):N=ea[35],ea[36]!==el.name?(S=(0,a.jsxs)("div",{className:"space-y-2",children:[N,(0,a.jsx)(i.Input,{id:"name",name:"name",defaultValue:el.name})]}),ea[36]=el.name,ea[37]=S):S=ea[37],ea[38]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.jsx)(r.Label,{htmlFor:"email",children:"Email"}),ea[38]=w):w=ea[38],ea[39]!==el.email?(U=(0,a.jsxs)("div",{className:"space-y-2",children:[w,(0,a.jsx)(i.Input,{id:"email",defaultValue:el.email,disabled:!0})]}),ea[39]=el.email,ea[40]=U):U=ea[40],ea[41]!==S||ea[42]!==U?(I=(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[S,U]}),ea[41]=S,ea[42]=U,ea[43]=I):I=ea[43],ea[44]!==ex||ea[45]!==eh||ea[46]!==es?(k=eh&&es&&ex&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"companyName",children:"Company Name"}),(0,a.jsx)(i.Input,{id:"companyName",name:"companyName",defaultValue:es.companyName})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"tagline",children:"Company Tagline"}),(0,a.jsx)(i.Input,{id:"tagline",name:"tagline",defaultValue:es.tagline})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"industry",children:"Industry"}),(0,a.jsx)(i.Input,{id:"industry",name:"industry",defaultValue:es.industry})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"stage",children:"Stage"}),(0,a.jsxs)(A.Select,{name:"stage",defaultValue:es.stage,children:[(0,a.jsx)(A.SelectTrigger,{children:(0,a.jsx)(A.SelectValue,{placeholder:"Select your startup's stage"})}),(0,a.jsx)(A.SelectContent,{children:H.investmentStages.map(Q)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"website",children:"Website"}),(0,a.jsx)(i.Input,{id:"website",name:"website",defaultValue:es.website})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"description",children:"Company Description"}),(0,a.jsx)(n.Textarea,{id:"description",name:"description",defaultValue:es.description})]}),(0,a.jsxs)("div",{className:"space-y-2 pt-4",children:[(0,a.jsx)(r.Label,{children:"What are your current objectives?"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:H.founderObjectives.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.Checkbox,{id:`objective-${e.id}`,name:`objective-${e.id}`,value:e.id,defaultChecked:ex.objectives?.includes(e.id)}),(0,a.jsx)(r.Label,{htmlFor:`objective-${e.id}`,className:"font-normal",children:e.label})]},e.id))})]})]}),ea[44]=ex,ea[45]=eh,ea[46]=es,ea[47]=k):k=ea[47],ea[48]!==eg||ea[49]!==ej?(P=ej&&eg&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"investorCompanyName",children:"Company Name"}),(0,a.jsx)(i.Input,{id:"investorCompanyName",name:"investorCompanyName",defaultValue:eg.companyName,placeholder:"e.g. Smith Ventures"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"investorCompanyUrl",children:"Company URL"}),(0,a.jsx)(i.Input,{id:"investorCompanyUrl",name:"investorCompanyUrl",defaultValue:eg.companyUrl,placeholder:"https://smith.ventures"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"investorType",children:"Investor Type"}),(0,a.jsxs)(A.Select,{name:"investorType",defaultValue:eg.investorType,children:[(0,a.jsx)(A.SelectTrigger,{children:(0,a.jsx)(A.SelectValue,{placeholder:"Select your investor type"})}),(0,a.jsxs)(A.SelectContent,{children:[(0,a.jsx)(A.SelectItem,{value:"Angel",children:"Angel"}),(0,a.jsx)(A.SelectItem,{value:"Venture Capitalist",children:"Venture Capitalist"}),(0,a.jsx)(A.SelectItem,{value:"Crowdfunder",children:"Crowdfunder"}),(0,a.jsx)(A.SelectItem,{value:"Private Equity",children:"Private Equity"}),(0,a.jsx)(A.SelectItem,{value:"GP",children:"General Partner (GP)"}),(0,a.jsx)(A.SelectItem,{value:"LP",children:"Limited Partner (LP)"}),(0,a.jsx)(A.SelectItem,{value:"Family Office Administrator",children:"Family Office Administrator"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"about",children:"About Me"}),(0,a.jsx)(n.Textarea,{id:"about",name:"about",defaultValue:eg.about,placeholder:"Write a brief professional bio..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"Investment Interests"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[eg.investmentInterests.map(X),(0,a.jsx)(i.Input,{placeholder:"Add interest...",className:"h-8 w-auto flex-1"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"Investment Stages"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:H.investmentStages.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.Checkbox,{id:`stage-${e}`,defaultChecked:eg.investmentStages?.includes(e)}),(0,a.jsx)(r.Label,{htmlFor:`stage-${e}`,children:e})]},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"Actively Seeking"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[eg.seeking?.map(K),(0,a.jsx)(i.Input,{placeholder:"Add label (e.g., Open to Mentoring)...",className:"h-8 w-auto flex-1"})]})]})]}),ea[48]=eg,ea[49]=ej,ea[50]=P):P=ea[50],ea[51]!==ed||ea[52]!==ef||ea[53]!==ec||ea[54]!==ey?(R=ef&&ey&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"headline",children:"Headline"}),(0,a.jsx)(i.Input,{id:"headline",name:"headline",defaultValue:ey.headline,placeholder:"e.g., Fractional Marketing Leader"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"about",children:"About Me"}),(0,a.jsx)(n.Textarea,{id:"about",name:"about",defaultValue:ey.about,placeholder:"A brief bio..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{children:"Skills"}),(0,a.jsx)(i.Input,{name:"skills",defaultValue:ey.skills?.join(", "),placeholder:"e.g., React, Node.js"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"organization",children:"Current/Latest Organization"}),(0,a.jsx)(i.Input,{id:"organization",name:"organization",defaultValue:ey.organization,placeholder:"e.g., Acme Inc."})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"experience",children:"Experience"}),(0,a.jsx)(n.Textarea,{id:"experience",name:"experience",defaultValue:ey.experience,placeholder:"Summarize your professional experience..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.Label,{htmlFor:"education",children:"Education & Certifications"}),(0,a.jsx)(n.Textarea,{id:"education",name:"education",defaultValue:ey.education,placeholder:"e.g., B.S. in Computer Science..."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,a.jsx)(_.Switch,{id:"is-vendor",checked:ec,onCheckedChange:eo}),(0,a.jsx)(r.Label,{htmlFor:"is-vendor",children:"Promote my services as a Vendor"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,a.jsx)(_.Switch,{id:"is-fractional-leader",checked:ed,onCheckedChange:em}),(0,a.jsx)(r.Label,{htmlFor:"is-fractional-leader",children:"Promote my services as a Fractional Leader"})]})]}),ea[51]=ed,ea[52]=ef,ea[53]=ec,ea[54]=ey,ea[55]=R):R=ea[55],ea[56]!==I||ea[57]!==k||ea[58]!==P||ea[59]!==R?(B=(0,a.jsxs)(t.CardContent,{className:"space-y-4",children:[I,k,P,R]}),ea[56]=I,ea[57]=k,ea[58]=P,ea[59]=R,ea[60]=B):B=ea[60],ea[61]===Symbol.for("react.memo_cache_sentinel")?(E=(0,a.jsx)(t.CardFooter,{children:(0,a.jsx)(s.Button,{type:"submit",children:"Save Changes"})}),ea[61]=E):E=ea[61],ea[62]!==B?(V=(0,a.jsxs)(t.Card,{children:[b,B,E]}),ea[62]=B,ea[63]=V):V=ea[63],ea[64]!==ev||ea[65]!==V?(M=(0,a.jsx)("form",{onSubmit:ev,children:V}),ea[64]=ev,ea[65]=V,ea[66]=M):M=ea[66],ea[67]!==eg||ea[68]!==ej?(O=ej&&eg&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(z,{initialData:eg.portfolio}),(0,a.jsx)($,{initialData:eg.exits})]}),ea[67]=eg,ea[68]=ej,ea[69]=O):O=ea[69],ea[70]!==M||ea[71]!==O?(Y=(0,a.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[M,O]}),ea[70]=M,ea[71]=O,ea[72]=Y):Y=ea[72],ea[73]!==Y||ea[74]!==j?(ee=(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[j,Y]})}),ea[73]=Y,ea[74]=j,ea[75]=ee):ee=ea[75],ee}function K(e){return(0,a.jsxs)(u.Badge,{variant:"secondary",className:"gap-1.5 pr-1.5",children:[e,(0,a.jsx)("button",{className:"rounded-full hover:bg-background/50",children:(0,a.jsx)(k.X,{className:"h-3 w-3"})})]},e)}function X(e){return(0,a.jsxs)(u.Badge,{variant:"secondary",className:"gap-1.5 pr-1.5",children:[e,(0,a.jsx)("button",{className:"rounded-full hover:bg-background/50",children:(0,a.jsx)(k.X,{className:"h-3 w-3"})})]},e)}function Q(e){return(0,a.jsx)(A.SelectItem,{value:e,children:e},e)}function Z(e){return e.trim()}e.s(["default",()=>Y],2177)}]);