(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{14283:(e,s,a)=>{"use strict";a.d(s,{default:()=>N});var t=a(95155),r=a(20063),n=a(3998),l=a(65142),i=a(76444),c=a(31120),d=a(94368),o=a(73457),m=a(11186),p=a(12115),x=a(51834),u=a(22452),h=a(68017),v=a(92033),j=a(15894),y=a(86948),f=a(15546),g=a(25373);function N(){let e=(0,r.useRouter)(),{toast:s}=(0,j.dj)(),[a,N]=(0,p.useState)(!1),[b,w]=(0,p.useState)([]),[C,S]=(0,p.useState)(!1),[A,U]=(0,p.useState)({companyName:"",companyUrl:""}),[P,F]=(0,p.useState)(null),I=async a=>{a.preventDefault(),N(!0);let t=JSON.parse(sessionStorage.getItem("registrationDetails")||"{}"),r=new FormData(a.currentTarget),n=d.Z.filter(e=>r.get("stage-".concat(e))),l={companyName:r.get("investorCompanyName"),companyUrl:r.get("investorCompanyUrl"),investorType:r.get("investorType"),about:r.get("about"),investmentInterests:r.get("investmentInterests").split(",").map(e=>e.trim()),investmentStages:n,exits:b},i=async e=>{if(e)return new Promise(s=>{let a=new FileReader;a.onload=e=>{var a;return s(null==(a=e.target)?void 0:a.result)},a.readAsDataURL(e)})},c=await i(P),o=await (0,f.G)(t.email,t.password,t.name,"investor",l,void 0,c);N(!1),o.success?e.push("/dashboard"):s({title:"Registration Failed",description:o.error,variant:"destructive"})};return(0,t.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"md:col-span-1",children:[(0,t.jsx)(i.J,{className:"mb-2 block text-center",children:"Profile Photo"}),(0,t.jsx)(g.A,{onFileChange:F})]}),(0,t.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"investorCompanyName",children:"Company Name"}),(0,t.jsx)(l.p,{name:"investorCompanyName",id:"investorCompanyName",placeholder:"e.g. Smith Ventures"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"investorCompanyUrl",children:"Company URL"}),(0,t.jsx)(l.p,{name:"investorCompanyUrl",id:"investorCompanyUrl",placeholder:"https://smith.ventures",type:"url"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"investorType",children:"Investor Type"}),(0,t.jsxs)(m.l6,{name:"investorType",children:[(0,t.jsx)(m.bq,{children:(0,t.jsx)(m.yv,{placeholder:"Select your investor type"})}),(0,t.jsxs)(m.gC,{children:[(0,t.jsx)(m.eb,{value:"GP",children:"General Partner (GP)"}),(0,t.jsx)(m.eb,{value:"LP",children:"Limited Partner (LP)"}),(0,t.jsx)(m.eb,{value:"Family Office Administrator",children:"Family Office Administrator"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"about",children:"About Me"}),(0,t.jsx)(c.T,{name:"about",id:"about",placeholder:"Write a brief professional bio...",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{children:"Investment Interests"}),(0,t.jsx)(l.p,{name:"investmentInterests",placeholder:"Add interests as comma separated values (e.g., AI, Fintech, SaaS)"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Separate interests with a comma."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)(i.J,{children:"Exits"}),(0,t.jsxs)(x.lG,{open:C,onOpenChange:S,children:[(0,t.jsx)(x.zM,{asChild:!0,children:(0,t.jsxs)(n.$,{type:"button",variant:"outline",size:"sm",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Add Exit"]})}),(0,t.jsxs)(x.Cf,{children:[(0,t.jsx)(x.c7,{children:(0,t.jsx)(x.L3,{children:"Add an Exit"})}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!A.companyName||!A.companyUrl)return void s({title:"Missing Information",description:"Please provide a company name and URL.",variant:"destructive"});w([...b,A]),U({companyName:"",companyUrl:""}),S(!1)},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"exit-company-name",children:"Company Name"}),(0,t.jsx)(l.p,{id:"exit-company-name",value:A.companyName,onChange:e=>U({...A,companyName:e.target.value}),placeholder:"e.g. Innovate Inc.",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"exit-company-url",children:"Company URL"}),(0,t.jsx)(l.p,{id:"exit-company-url",value:A.companyUrl,onChange:e=>U({...A,companyUrl:e.target.value}),placeholder:"https://innovate.com",type:"url",required:!0})]}),(0,t.jsx)(n.$,{type:"submit",className:"w-full",children:"Add Exit"})]})]})]})]}),(0,t.jsx)(y.Zp,{className:"p-3 space-y-2",children:b.length>0?b.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium",children:e.companyName}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:e.companyUrl})]}),(0,t.jsx)(n.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>{var s;return s=e.companyName,void w(b.filter(e=>e.companyName!==s))},children:(0,t.jsx)(h.A,{className:"h-4 w-4"})})]},s)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"No exits added yet."})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{children:"Investment Stages"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4 pt-2",children:d.Z.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.S,{name:"stage-".concat(e),id:"stage-".concat(e)}),(0,t.jsx)(i.J,{htmlFor:"stage-".concat(e),children:e})]},e))})]})]})]}),(0,t.jsxs)(n.$,{type:"submit",className:"w-full",disabled:a,children:[a&&(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Complete Registration"]})]})}},15546:(e,s,a)=>{"use strict";a.d(s,{G:()=>r});var t=a(30926);let r=(0,t.createServerReference)("7fda4222ee63ef746b86dad3162cf1da45353a851c",t.callServer,void 0,t.findSourceMapURL,"createUserAndProfile")},25373:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});var t=a(95155),r=a(12115),n=a(27314),l=a(15239),i=a(64269);function c(e){let{onFileChange:s}=e,[a,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(!1),m=(0,r.useRef)(null),p=e=>{if(e&&("image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type)){let a=new FileReader;a.onload=e=>{var s;c(null==(s=e.target)?void 0:s.result)},a.readAsDataURL(e),s(e)}};return(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,t.jsxs)("div",{className:(0,i.cn)("w-48 h-48 border-2 border-dashed rounded-full flex flex-col items-center justify-center text-muted-foreground cursor-pointer transition-colors relative overflow-hidden",d?"border-primary bg-accent":"border-border"),onDragOver:e=>{e.preventDefault(),o(!0)},onDragLeave:e=>{e.preventDefault(),o(!1)},onDrop:e=>{e.preventDefault(),o(!1),p(e.dataTransfer.files[0])},onClick:()=>{var e;null==(e=m.current)||e.click()},children:[a?(0,t.jsx)(l.default,{src:a,alt:"Profile Photo",width:192,height:192,className:"rounded-full object-cover w-full h-full"}):(0,t.jsxs)("div",{className:"text-center p-4",children:[(0,t.jsx)(n.A,{className:"mx-auto h-12 w-12 mb-2"}),(0,t.jsx)("p",{className:"text-sm",children:"Drag & drop photo"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground/80 mt-1",children:"or click to browse"})]}),(0,t.jsx)("input",{ref:m,type:"file",className:"hidden",accept:"image/jpeg, image/png, image/gif",onChange:e=>{var s;p((null==(s=e.target.files)?void 0:s[0])||null)}})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground px-4 text-center",children:"Recommended: 400x400px. JPG, PNG, GIF."})]})}},88413:(e,s,a)=>{Promise.resolve().then(a.bind(a,14283))},94368:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=["Idea","Pre-seed","Seed","Series A","Series B+"]}},e=>{e.O(0,[4909,2248,9972,4341,5239,9944,2885,7825,865,4057,8441,1255,7358],()=>e(e.s=88413)),_N_E=e.O()}]);